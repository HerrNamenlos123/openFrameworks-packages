FROM debian:10

ARG PACKAGE
ARG VERSION
ARG C_COMPILER
ARG CXX_COMPILER

RUN apt-get update && apt-get upgrade -y
RUN apt-get install -y $C_COMPILER $CXX_COMPILER make cmake git
RUN apt-get install -y libx11-dev libxrandr-dev libxinerama-dev libxcursor-dev libxi-dev

ENV PACKAGE=$PACKAGE
ENV VERSION=$VERSION
ENV CC=$C_COMPILER
ENV CXX=$CXX_COMPILER
ENTRYPOINT [ "/package/build.sh" ]